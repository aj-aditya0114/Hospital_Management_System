<!DOCTYPE html>
<html lang="en" xmlns :th = "http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Patient Registration</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Google Font -->
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Poppins', sans-serif;
            background: linear-gradient(135deg, #d4fc79, #96e6a1);
            background-attachment: fixed;
        }
        .register-container {
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }
        .register-card {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 15px;
            box-shadow: 0px 4px 25px rgba(0,0,0,0.1);
            padding: 30px;
            width: 100%;
            max-width: 500px;
            backdrop-filter: blur(10px);
        }
        .register-card h3 {
            font-weight: 600;
            margin-bottom: 20px;
            color: #2e7d32;
        }
        .btn-primary {
            background-color: #2e7d32;
            border-color: #2e7d32;
        }
        .btn-primary:hover {
            background-color: #256428;
            border-color: #256428;
        }
    </style>
</head>
<body>
    <div class="register-container">
        <div class="register-card">
            <div class="text-center mb-4">
                <img src="https://cdn-icons-png.flaticon.com/512/2966/2966485.png" alt="Hospital Logo" width="80">
            </div>
            <h3 class="text-center">Register</h3>
			<div th:if = "${successMsg}">
				<h5 style = "color : green;" th:text = "${successMsg}"></h5>
			</div>
					
			<div th:if = "${errorMsg}">
				<h5 style = "color : red;" th:text = "${errorMsg}"></h5>
			</div>

            <form th:action = "@{/regFormP}" th:object = "${patient}" method = "post" class="needs-validation" novalidate>
                <div class="mb-3">
                    <label for="name" class="form-label">Full Name</label>
                    <input th:field = "*{name}" type="text" class="form-control" id="name" placeholder="Enter your name" required>
                    <div class="invalid-feedback">Please enter your full name.</div>
                </div>
                <div class="mb-3">
                    <label for="email" class="form-label">Email Address</label>
                    <input type="email"  th:field = "*{email}" class="form-control" id="email" placeholder="Enter your email" required>
                    <div class="invalid-feedback">Please enter a valid email address.</div>
                </div>
                <div class="mb-3">
                    <label for="password" class="form-label">Password</label>
                    <input th:field = "*{password}" type="password" class="form-control" id="password" placeholder="Enter your password" minlength="6" required>
                    <div class="invalid-feedback">Password must be at least 6 characters long.</div>
                </div>
                <div class="mb-3">
                    <label class="form-label">Gender</label>
                    <div>
                        <div class="form-check form-check-inline">
                            <input class="form-check-input" th:field = "*{gender}" type="radio" name="gender" id="male" value="Male" required>
                            <label class="form-check-label" for="male">Male</label>
                        </div>
                        <div class="form-check form-check-inline">
                            <input class="form-check-input" th:field = "*{gender}" type="radio" name="gender" id="female" value="Female">
                            <label class="form-check-label" for="female">Female</label>
                        </div>
                        <div class="form-check form-check-inline">
                            <input class="form-check-input" th:field = "*{gender}" type="radio" name="gender" id="other" value="Other">
                            <label class="form-check-label" for="other">Other</label>
                        </div>
                    </div>
                    <div class="invalid-feedback d-block">Please select a gender.</div>
                </div>
                <div class="mb-3">
                    <label for="age"  th:field = "*{age}" class="form-label">Age</label>
                    <input type="number" class="form-control" id="age" min="1" placeholder="Enter your age" required>
                    <div class="invalid-feedback">Please enter your age.</div>
                </div>
                <button type="submit" class="btn btn-primary w-100">Register</button>
            </form>
            <div class="text-center mt-3">
                <small>Already have an account? <a href="loginPageP" class="text-decoration-none">Login</a></small>
            </div>
        </div>
    </div>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

    <!-- Form Validation Script -->
    <script>
        (function () {
            'use strict'
            const forms = document.querySelectorAll('.needs-validation')
            Array.from(forms).forEach(function (form) {
                form.addEventListener('submit', function (event) {
                    if (!form.checkValidity()) {
                        event.preventDefault()
                        event.stopPropagation()
                    }
                    form.classList.add('was-validated')
                }, false)
            })
        })()
    </script>
</body>
</html>